enum EPaymentMethod {
  COD
  MOMO
  CRYPTO
}

enum EPaymentStatus {
  PENDING
  SUCCESSFUL
  FAILED
}

type TMomoPayment {
  payUrl: String
  requestId: String
}

type TCryptoPayment {
  toAddress: String
  amount: Float
  tokenSymbol: String
  chainId: Int
  dataToSign: String
  signature: String
  txHash: String
}

type TPaymentResponse {
  paymentId: String!
  orderID: String!
  paymentMethod: EPaymentMethod!
  totalPrice: Float!
  status: EPaymentStatus!
  userInfo: TUserInfoSnapshot!
  items: [TOrderItem]!
  createdAt: Timestamp!
  updatedAt: Timestamp!
}

"""Input types"""
input ConfirmPaymentInput {
  orderId: String!
  paymentMethod: EPaymentMethod!
  transactionId: String
  txHash: String
}

type Query {
  paymentHistory(paymentId: String!): TPaymentResponse!
  listPaymentHistory(offset: Int, limit: Int, query: [QueryByInput]): [TPaymentResponse]!
}

type Mutation {
  confirmPayment(paymentInput: ConfirmPaymentInput!): TPaymentResponse!
}